<view class="admin-container" wx:if="{{isAdmin}}">
  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <view class="stats-section">
    <text class="section-title">ç»Ÿè®¡ä¿¡æ¯</text>
    <view class="stats-grid">
      <view class="stat-card">
        <text class="stat-number">{{statistics.total_count || 0}}</text>
        <text class="stat-label">æ€»æ¶ˆæ¯æ•°</text>
      </view>
      <view class="stat-card">
        <text class="stat-number">{{statistics.pending_count || 0}}</text>
        <text class="stat-label">å¾…å®¡æ ¸</text>
      </view>
      <view class="stat-card">
        <text class="stat-number">{{statistics.approved_count || 0}}</text>
        <text class="stat-label">å·²é€šè¿‡</text>
      </view>
    </view>
  </view>

  <!-- ç®¡ç†åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <text class="section-title">ç®¡ç†åŠŸèƒ½</text>
    <view class="menu-items">
      <view class="menu-item" bindtap="goToWallManage">
        <text class="menu-icon">ğŸ“</text>
        <view class="menu-content">
          <text class="menu-title">æ ¡å›­å¢™ç®¡ç†</text>
          <text class="menu-desc">å®¡æ ¸æ¶ˆæ¯ã€ç®¡ç†å†…å®¹</text>
        </view>
        <text class="menu-arrow">â†’</text>
      </view>
      <view class="menu-item" bindtap="goToSongManage">
        <text class="menu-icon">ğŸµ</text>
        <view class="menu-content">
          <text class="menu-title">ç‚¹æ­Œç®¡ç†</text>
          <text class="menu-desc">å®¡æ ¸ç‚¹æ­Œè¯·æ±‚</text>
        </view>
        <text class="menu-arrow">â†’</text>
      </view>
    </view>
  </view>

  <!-- å¾…å®¡æ ¸æ¶ˆæ¯åˆ—è¡¨ -->
  <view class="pending-section">
    <view class="section-header">
      <text class="section-title">å¾…å®¡æ ¸æ¶ˆæ¯</text>
      <text class="view-all" bindtap="goToWallManage">æŸ¥çœ‹å…¨éƒ¨</text>
    </view>
    
    <view class="message-list" wx:if="{{pendingMessages.length > 0}}">
      <view wx:for="{{pendingMessages}}" wx:key="id" class="message-item">
        <view class="message-header">
          <text class="type-tag type-{{item.message_type}}">{{getTypeText(item.message_type)}}</text>
          <text class="message-time">{{formatTime(item.timestamp)}}</text>
        </view>
        <view class="message-title" wx:if="{{item.title}}">{{item.title}}</view>
        <view class="message-content">{{item.content}}</view>
        
        <view class="action-buttons">
          <button class="action-btn approve-btn" bindtap="approveMessage" data-id="{{item.id}}" size="mini">
            é€šè¿‡
          </button>
          <button class="action-btn reject-btn" bindtap="rejectMessage" data-id="{{item.id}}" size="mini">
            æ‹’ç»
          </button>
        </view>
      </view>
    </view>
    
    <view class="empty-state" wx:if="{{pendingMessages.length === 0 && !loading}}">
      <text>æš‚æ— å¾…å®¡æ ¸æ¶ˆæ¯</text>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>
</view>

<!-- éç®¡ç†å‘˜æç¤º -->
<view class="no-permission" wx:if="{{!isAdmin && !loading}}">
  <text class="permission-text">æ‚¨æ²¡æœ‰ç®¡ç†å‘˜æƒé™</text>
  <text class="permission-desc">å¦‚éœ€ç®¡ç†åŠŸèƒ½ï¼Œè¯·è”ç³»ç³»ç»Ÿç®¡ç†å‘˜</text>
  <button class="back-btn" bindtap="goBack" type="primary" size="mini">è¿”å›</button>
</view>