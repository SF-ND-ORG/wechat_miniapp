<view class="post-container">
  <form bindsubmit="onSubmit">
    <!-- 消息类型选择 -->
    <view class="form-group">
      <text class="label">消息类型</text>
      <view class="type-selector">
        <text class="type-item {{messageType === 'general' ? 'active' : ''}}" bindtap="selectType" data-type="general">普通</text>
        <text class="type-item {{messageType === 'lost_and_found' ? 'active' : ''}}" bindtap="selectType" data-type="lost_and_found">失物招领</text>
        <text class="type-item {{messageType === 'confession' ? 'active' : ''}}" bindtap="selectType" data-type="confession">表白墙</text>
        <text class="type-item {{messageType === 'help' ? 'active' : ''}}" bindtap="selectType" data-type="help">求助</text>
      </view>
    </view>

    <!-- 标题输入 -->
    <view class="form-group">
      <text class="label">标题 (可选)</text>
      <input class="form-input" placeholder="请输入标题" bindinput="onTitleInput" value="{{title}}" maxlength="200" />
    </view>

    <!-- 内容输入 -->
    <view class="form-group">
      <text class="label">内容 *</text>
      <textarea class="form-textarea" placeholder="请输入内容..." bindinput="onContentInput" value="{{content}}" maxlength="1000" show-confirm-bar="{{false}}" />
      <text class="char-count">{{content.length}}/1000</text>
    </view>

    <!-- 联系方式 -->
    <view class="form-group">
      <text class="label">联系方式 (可选)</text>
      <input class="form-input" placeholder="QQ、微信、电话等" bindinput="onContactInput" value="{{contactInfo}}" maxlength="200" />
    </view>

    <!-- 位置信息 -->
    <view class="form-group">
      <text class="label">位置信息 (可选)</text>
      <input class="form-input" placeholder="如：图书馆、食堂等" bindinput="onLocationInput" value="{{location}}" maxlength="200" />
    </view>

    <!-- 标签 -->
    <view class="form-group">
      <text class="label">标签 (可选)</text>
      <input class="form-input" placeholder="用逗号分隔，如：急,重要" bindinput="onTagsInput" value="{{tags}}" maxlength="500" />
      <text class="hint">标签用逗号分隔，便于其他同学搜索</text>
    </view>

    <!-- 提交按钮 -->
    <view class="submit-container">
      <button class="submit-btn" formType="submit" type="primary" disabled="{{!content || submitting}}">
        {{submitting ? '发布中...' : '发布消息'}}
      </button>
    </view>
  </form>
</view>